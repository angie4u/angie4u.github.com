# PCL & Shared Project
Xamarin을 처음 공부하시면 헷깔리시는 부분중 하나가 바로 PCL과 Shared 프로젝트 입니다.
Xamarin으로 프로젝트를 처음 만드려고 하면 둘 중 하나를 선택하라고 합니다. 인터넷에 찾아봐도 차이를 잘 모르겠어서 저도 공부하면서 애를 많이 먹은 부분입니다.
우선 둘의 공통점부터 말씀드리겠습니다. 
두 기능 모두 코드공유를 하기 위해 필요한 기능입니다. 다만 방식이 약간 다른 것 입니다. 
생각해보세요! 프로젝트를 만들었는데 코드를 공유하고 싶습니다. 어떻게 가능할까요?
뭐.. 가장 단순무식한 방법은 소스코드를 여러번 복사해서 붙여넣을수 있겠지요.. 하지만 이 방법은 나중에 소스코드 형상관리에도 어려움이 많고, 비효율 적이기 때문에 하지 않는것을 권장 드립니다.
또 다른 방법으로는 어떤 것이 있을까요? 파일을 참조하는 방법이 있습니다.
파일 참조시에 많이들 사용했던 방법 중의 하나는 바로, 참조추가 즉, Reference를 설정하는 것 입니다. 
하지만 이렇게 모든 프로젝트에 일일히 Reference를 걸면 비효율적이고, 형상관리가 어렵습니다.
그래서 Xamarin에서 제공하는 옵션이 바로 Shared Project를 생성하는 것 입니다.

Shared Project타입으로 생성하게 되면 Shared Project 자체를 다른 프로젝트에서 참조하고 있기 때문에, 공통으로 사용할 수 있는 코드는 Shared Project 내부에 넣어 두면 됩니다.
개발자가 확인해야 할 사항은 Shared Project 이외의 .Droid, .iOS, .Windows 각 프로젝트에 Shared Project가 참조추가가 잘 되어 있는지만 확인하시면 됩니다. 
그러면 어떻게 실행되느냐... 각 플랫폼 별 프로젝트에서 Shared Project를 참조하고 있다가 컴파일 될떄 함꼐 컴파일을 시켜버립니다. 

이에 반면 PCL(Portable Class Library)과 같은 경우는, DLL 즉 실행 파일자체를 만들어서 공유시킵니다. 이렇게 하면 몇가지 장단점이 있는데요, 우선 코드 공유가 중앙 집중화가 되고, 리팩토링이 쉬워집니다.
또한 DLL 자체를 공유하는 것 이기 때문에, 다른  프로젝트에서 참조하여 쓰기도 용이합니다.
반면에, 플랫폼별 특정 Library는 참고할 수 없습니다. 
이러한 문제점들은 DI(의존성 주입) 등의 패턴을 이용하여 해결할 수 있습니다. 이를 잠깐 설명해 드리면, 의존성 주입이란 공통 코드에서 추상화된 클래스를 만들고, 이를 상속 받아서 플랫폼 별 프로젝트에 알맞은 라이브러리를 이용하여 구현하는 것 입니다. 











